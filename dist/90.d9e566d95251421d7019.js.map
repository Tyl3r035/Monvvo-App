{"version":3,"file":"90.d9e566d95251421d7019.js","mappings":"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","sources":["webpack://monvvo-app/./public/js/mortgage-calculator.js"],"sourcesContent":["\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    console.log(\"DOMContentLoaded event fired\");\r\n\r\n    \r\n\r\n    // Disable Google Analytics on localhost\r\n    if (window.location.hostname === \"localhost\") {\r\n        console.log(\"Running on localhost, disabling Google Analytics\");\r\n    }\r\n\r\n    // Mortgage calculation functionality\r\n    const homePriceInput = document.getElementById('home-price');\r\n    const downPaymentAmountInput = document.getElementById('down-payment-amount');\r\n    const downPaymentPercentageInput = document.getElementById('down-payment-percentage');\r\n    const loanTermInput = document.getElementById('loan-term');\r\n    const interestRateInput = document.getElementById('interest-rate');\r\n    const paymentFrequencyInput = document.getElementById('payment-frequency');\r\n    const propertyTaxInput = document.getElementById('property-tax');\r\n    const pmiExpenseInput = document.getElementById('pmi-expense');\r\n    const hoaExpenseInput = document.getElementById('hoa-expense');\r\n    const updateBtn = document.getElementById('update-btn');\r\n    const resetBtn = document.getElementById('reset-btn');\r\n    const canvas = document.getElementById('mortgageChart');\r\n    const amortizationChartCanvas = document.getElementById('amortizationChart');\r\n    const labelsContainer = document.getElementById('chartLabels');\r\n    const amortizationLabelsContainer = document.getElementById('amortizationLabels');\r\n\r\n\r\n\r\n    const defaultValues = {\r\n        homePrice: 500000,\r\n        downPaymentAmount: 25000,\r\n        downPaymentPercentage: 5,\r\n        loanTerm: 25,\r\n        interestRate: 7.04,\r\n        propertyTax: 250,\r\n        pmiExpense: 200,\r\n        hoaExpense: 0\r\n    };\r\n\r\n\r\n    homePriceInput.placeholder = defaultValues.homePrice;\r\n    downPaymentAmountInput.placeholder = defaultValues.downPaymentAmount;\r\n    downPaymentPercentageInput.placeholder = defaultValues.downPaymentPercentage;\r\n    loanTermInput.value = defaultValues.loanTerm; // Keep loan term as value since it is a dropdown\r\n    interestRateInput.placeholder = defaultValues.interestRate;\r\n    propertyTaxInput.placeholder = defaultValues.propertyTax;\r\n    pmiExpenseInput.placeholder = defaultValues.pmiExpense;\r\n    hoaExpenseInput.placeholder = defaultValues.hoaExpense;\r\n\r\n    // Set payment frequency to default\r\n    paymentFrequencyInput.value = \"monthly\";\r\n\r\n\r\n    const formatter = new Intl.NumberFormat('en-US', {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n    });\r\n\r\n    const inputsToRestrict = [\r\n        homePriceInput,\r\n        downPaymentAmountInput,\r\n        downPaymentPercentageInput,\r\n        loanTermInput,\r\n        interestRateInput,\r\n        propertyTaxInput,\r\n        pmiExpenseInput,\r\n        hoaExpenseInput\r\n    ];\r\n\r\n    inputsToRestrict.forEach(input => {\r\n        input.addEventListener('keydown', function (event) {\r\n            if (event.key === \"-\" || event.key === \"e\") {\r\n                event.preventDefault();\r\n            }\r\n        });\r\n    });\r\n\r\n    let lastAmortizationData = null;\r\n\r\n    downPaymentAmountInput.addEventListener('input', function () {\r\n        const homePrice = parseFloat(homePriceInput.value) || defaultValues.homePrice;\r\n        const downPaymentAmount = parseFloat(downPaymentAmountInput.value) || 0;\r\n        const downPaymentPercentage = (downPaymentAmount / homePrice) * 100;\r\n        downPaymentPercentageInput.value = Number.isInteger(downPaymentPercentage)\r\n            ? downPaymentPercentage\r\n            : downPaymentPercentage.toFixed(2);\r\n    });\r\n\r\n    downPaymentPercentageInput.addEventListener('input', function () {\r\n        const homePrice = parseFloat(homePriceInput.value) || defaultValues.homePrice;\r\n        const downPaymentPercentage = parseFloat(downPaymentPercentageInput.value) || 0;\r\n        const downPaymentAmount = Math.ceil((downPaymentPercentage / 100) * homePrice);\r\n        downPaymentAmountInput.value = downPaymentAmount;\r\n    });\r\n\r\n    homePriceInput.addEventListener('input', function () {\r\n        const homePrice = parseFloat(homePriceInput.value) || defaultValues.homePrice;\r\n        const downPaymentAmount = parseFloat(downPaymentAmountInput.value) || 0;\r\n        const downPaymentPercentage = (downPaymentAmount / homePrice) * 100;\r\n        downPaymentPercentageInput.value = Number.isInteger(downPaymentPercentage)\r\n            ? downPaymentPercentage\r\n            : downPaymentPercentage.toFixed(2);\r\n    });\r\n\r\n    updateBtn.addEventListener('click', function (event) {\r\n        event.preventDefault();\r\n        console.log(\"Update button clicked\");\r\n        calculateAndDisplayResults();\r\n    });\r\n\r\n    resetBtn.addEventListener('click', function (event) {\r\n        event.preventDefault();\r\n        console.log(\"Reset button clicked\");\r\n        resetInputs();\r\n    });\r\n\r\n    const tabPaymentBreakdown = document.getElementById(\"tab-payment-breakdown\");\r\n    const tabAmortizationSchedule = document.getElementById(\"tab-amortization-schedule\");\r\n\r\n    const paymentBreakdownContent = document.getElementById(\"payment-breakdown-content\");\r\n    const amortizationScheduleContent = document.getElementById(\"amortization-schedule-content\");\r\n\r\n\r\n//     function showTab(tabName) {\r\n//         if (tabName === \"payment\") {\r\n//             paymentBreakdownContent.style.display = \"block\";\r\n//             amortizationScheduleContent.style.display = \"none\";\r\n//             tabPaymentBreakdown.classList.add(\"tab-active\");\r\n//             tabAmortizationSchedule.classList.remove(\"tab-active\");\r\n    \r\n//             if (lastAmortizationData) {\r\n//                 const {\r\n//                     periodicPrincipalAndInterest,\r\n//                     periodicPropertyTax,\r\n//                     periodicPMI,\r\n//                     periodicHOA\r\n//                 } = lastAmortizationData;\r\n\r\n\r\n//                 const adjustedPrincipalAndInterest = periodicPrincipalAndInterest * paymentFactor;\r\n//                 const adjustedPropertyTax = periodicPropertyTax * paymentFactor;\r\n//                 const adjustedPMI = periodicPMI * paymentFactor;\r\n//                 const adjustedHOA = periodicHOA * paymentFactor;\r\n\r\n// updateHorizontalStackedBarChart(\r\n//     adjustedPrincipalAndInterest,\r\n//     adjustedPropertyTax,\r\n//     adjustedPMI,\r\n//     adjustedHOA\r\n// );\r\n\r\n//             }\r\n//         } else if (tabName === \"amortization\") {\r\n//             paymentBreakdownContent.style.display = \"none\";\r\n//             amortizationScheduleContent.style.display = \"block\";\r\n//             tabPaymentBreakdown.classList.remove(\"tab-active\");\r\n//             tabAmortizationSchedule.classList.add(\"tab-active\");\r\n    \r\n//             if (lastAmortizationData) {\r\n//                 const {\r\n//                     balanceData,\r\n//                     cumulativeInterestData,\r\n//                     cumulativePrincipalData,\r\n//                     totalInterestPaid,\r\n//                     totalPrincipalPaid,\r\n//                     totalAmountPaid\r\n//                 } = lastAmortizationData;\r\n    \r\n//                 drawAmortizationChart(\r\n//                     balanceData,\r\n//                     cumulativeInterestData,\r\n//                     cumulativePrincipalData\r\n//                 );\r\n//                 updateAmortizationLabels(\r\n//                     totalInterestPaid,\r\n//                     totalPrincipalPaid,\r\n//                     totalAmountPaid\r\n//                 );\r\n//             }\r\n//         }\r\n//     }\r\n    \r\nfunction showTab(tabName) {\r\n    if (tabName === \"payment\") {\r\n        paymentBreakdownContent.style.display = \"block\";\r\n        amortizationScheduleContent.style.display = \"none\";\r\n        tabPaymentBreakdown.classList.add(\"tab-active\");\r\n        tabAmortizationSchedule.classList.remove(\"tab-active\");\r\n\r\n        if (lastAmortizationData) {\r\n            const {\r\n                periodicPrincipalAndInterest,\r\n                periodicPropertyTax,\r\n                periodicPMI,\r\n                periodicHOA,\r\n            } = lastAmortizationData;\r\n\r\n            // Redraw the stacked bar chart\r\n            updateHorizontalStackedBarChart(\r\n                periodicPrincipalAndInterest,\r\n                periodicPropertyTax,\r\n                periodicPMI,\r\n                periodicHOA\r\n            );\r\n        }\r\n    } else if (tabName === \"amortization\") {\r\n        paymentBreakdownContent.style.display = \"none\";\r\n        amortizationScheduleContent.style.display = \"block\";\r\n        tabPaymentBreakdown.classList.remove(\"tab-active\");\r\n        tabAmortizationSchedule.classList.add(\"tab-active\");\r\n\r\n        if (lastAmortizationData) {\r\n            const {\r\n                balanceData,\r\n                cumulativeInterestData,\r\n                cumulativePrincipalData,\r\n                totalInterestPaid,\r\n                totalPrincipalPaid,\r\n                totalAmountPaid,\r\n            } = lastAmortizationData;\r\n\r\n            drawAmortizationChart(\r\n                balanceData,\r\n                cumulativeInterestData,\r\n                cumulativePrincipalData\r\n            );\r\n            updateAmortizationLabels(\r\n                totalInterestPaid,\r\n                totalPrincipalPaid,\r\n                totalAmountPaid\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n    tabPaymentBreakdown.addEventListener(\"click\", () => showTab(\"payment\"));\r\n    tabAmortizationSchedule.addEventListener(\"click\", () => showTab(\"amortization\"));\r\n    \r\n\r\n\r\nfunction calculateAndDisplayResults() {\r\n    console.log(\"Calculating and displaying results\");\r\n\r\n    // Retrieve inputs with fallback to default values\r\n    const homePrice = parseFloat(homePriceInput.value) || defaultValues.homePrice;\r\n    const downPaymentAmount = parseFloat(downPaymentAmountInput.value) || defaultValues.downPaymentAmount;\r\n    const loanTerm = parseInt(loanTermInput.value) || defaultValues.loanTerm;\r\n    const interestRate = parseFloat(interestRateInput.value) || defaultValues.interestRate;\r\n    const propertyTax = parseFloat(propertyTaxInput.value) || defaultValues.propertyTax;\r\n    const pmiExpense = parseFloat(pmiExpenseInput.value) || defaultValues.pmiExpense;\r\n    const hoaExpense = parseFloat(hoaExpenseInput.value) || defaultValues.hoaExpense;\r\n\r\n    // Calculations for principal, interest rate, and number of payments\r\n    const principal = homePrice - downPaymentAmount;\r\n    const monthlyInterestRate = (interestRate / 100) / 12;\r\n    const numberOfPayments = loanTerm * 12;\r\n\r\n    // Calculate monthly principal and interest payment\r\n    const periodicPrincipalAndInterest = principal * monthlyInterestRate *\r\n        Math.pow(1 + monthlyInterestRate, numberOfPayments) /\r\n        (Math.pow(1 + monthlyInterestRate, numberOfPayments) - 1);\r\n\r\n    // Keep additional inputs as monthly values\r\n    const periodicPropertyTax = propertyTax;\r\n    const periodicPMI = pmiExpense;\r\n    const periodicHOA = hoaExpense;\r\n\r\n    // Adjustments for payment frequency\r\n    const selectedFrequency = paymentFrequencyInput.value;\r\n    let paymentFactor = 1; // Default to monthly\r\n    if (selectedFrequency === 'biweekly') {\r\n        paymentFactor = 12 / 26;\r\n    } else if (selectedFrequency === 'weekly') {\r\n        paymentFactor = 12 / 52;\r\n    } else if (selectedFrequency === 'accelerated-biweekly') {\r\n        paymentFactor = 1 / 26;\r\n    } else if (selectedFrequency === 'accelerated-weekly') {\r\n        paymentFactor = 1 / 52;\r\n    }\r\n\r\n    // Adjust only principal and interest for frequency\r\n    const adjustedPrincipalAndInterest = periodicPrincipalAndInterest * paymentFactor;\r\n\r\n    // Keep additional inputs unadjusted\r\n    const adjustedPropertyTax = periodicPropertyTax; // Unchanged\r\n    const adjustedPMI = periodicPMI; // Unchanged\r\n    const adjustedHOA = periodicHOA; // Unchanged\r\n\r\n    // Update Payment Breakdown\r\n    updateLabels(adjustedPrincipalAndInterest, adjustedPropertyTax, adjustedPMI, adjustedHOA);\r\n    updateHorizontalStackedBarChart(\r\n        adjustedPrincipalAndInterest,\r\n        adjustedPropertyTax,\r\n        adjustedPMI,\r\n        adjustedHOA\r\n    );\r\n\r\n    // Calculate Amortization Data (independent of payment frequency)\r\n    const amortizationData = calculateAmortizationSchedule(\r\n        principal,\r\n        monthlyInterestRate,\r\n        periodicPrincipalAndInterest,\r\n        numberOfPayments\r\n    );\r\n\r\n    // Render Amortization Chart\r\n    drawAmortizationChart(\r\n        amortizationData.balanceData,\r\n        amortizationData.cumulativeInterestData,\r\n        amortizationData.cumulativePrincipalData\r\n    );\r\n\r\n    // Update Amortization Chart Labels\r\n    updateAmortizationLabels(\r\n        amortizationData.totalInterestPaid,\r\n        amortizationData.totalPrincipalPaid,\r\n        amortizationData.totalAmountPaid\r\n    );\r\n\r\n    // Store amortization data for hover events\r\n    lastAmortizationData = {\r\n        balanceData: amortizationData.balanceData,\r\n        cumulativeInterestData: amortizationData.cumulativeInterestData,\r\n        cumulativePrincipalData: amortizationData.cumulativePrincipalData,\r\n        totalInterestPaid: amortizationData.totalInterestPaid,\r\n        totalPrincipalPaid: amortizationData.totalPrincipalPaid,\r\n        totalAmountPaid: amortizationData.totalAmountPaid,\r\n        periodicPrincipalAndInterest,\r\n        periodicPropertyTax,\r\n        periodicPMI,\r\n        periodicHOA,\r\n    };\r\n\r\n    console.log({\r\n        principal,\r\n        monthlyInterestRate,\r\n        numberOfPayments,\r\n        periodicPrincipalAndInterest,\r\n        totalPayment: adjustedPrincipalAndInterest + adjustedPropertyTax + adjustedPMI + adjustedHOA\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction updateHoverValues(balance, interest, principal) {\r\n    const labelValues = amortizationLabelsContainer.querySelectorAll('.label-value');\r\n    if (labelValues.length === 3) {\r\n        labelValues[0].textContent = formatter.format(interest);   // Update interest label\r\n        labelValues[1].textContent = formatter.format(principal); // Update principal label\r\n        labelValues[2].textContent = formatter.format(balance);   // Update balance label\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n    \r\n    function resetInputs() {\r\n        console.log(\"Resetting inputs to default values\");\r\n    \r\n        // Clear inputs without populating default values\r\n        homePriceInput.value = \"\";\r\n        downPaymentAmountInput.value = \"\";\r\n        downPaymentPercentageInput.value = \"\";\r\n        loanTermInput.value = \"25\";\r\n        interestRateInput.value = \"\";\r\n        propertyTaxInput.value = \"\";\r\n        pmiExpenseInput.value = \"\";\r\n        hoaExpenseInput.value = \"\";\r\n    \r\n        // Reset payment frequency to monthly\r\n        paymentFrequencyInput.value = \"monthly\";\r\n    \r\n        // Recalculate using default values (inputs remain blank)\r\n        calculateAndDisplayResults();\r\n    }\r\n    \r\n\r\n\r\n\r\n    function drawRoundedRect(ctx, x, y, width, height, radius) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x + radius, y);\r\n        ctx.lineTo(x + width - radius, y);\r\n        ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n        ctx.lineTo(x + width, y + height - radius);\r\n        ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n        ctx.lineTo(x + radius, y + height);\r\n        ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n        ctx.lineTo(x, y + radius);\r\n        ctx.quadraticCurveTo(x, y, x + radius, y);\r\n        ctx.closePath();\r\n        ctx.clip();\r\n    }\r\n\r\n\r\n\r\n    function updateHorizontalStackedBarChart(principalAndInterest, propertyTax, pmi, hoa) {\r\n        const canvas = document.getElementById('mortgageChart');\r\n        const ctx = canvas.getContext('2d');\r\n        const parentWidth = canvas.parentElement.offsetWidth;\r\n    \r\n        // Set canvas dimensions\r\n        canvas.width = parentWidth;\r\n        canvas.height = 100; // Standard height for the bar chart\r\n    \r\n        // Clear the canvas\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    \r\n        // Data and colors\r\n        const data = [principalAndInterest, propertyTax, pmi, hoa];\r\n        const labels = ['Principal & Interest', 'Property Tax', 'PMI', 'HOA'];\r\n        const colors = ['#175134', '#3EB721', '#91BBA6', '#B3D4C2'];\r\n    \r\n        // Chart dimensions\r\n        const chartHeight = 60;\r\n        const chartWidth = canvas.width;\r\n        const total = data.reduce((a, b) => a + b, 0);\r\n        const maxTotal = Math.max(total, 1); // Avoid division by zero\r\n        const gap = 2; // Gap between segments\r\n        const yOffset = canvas.height / 2 - chartHeight / 2;\r\n    \r\n        let cumulativeWidth = 0;\r\n    \r\n        // Draw each segment\r\n        data.forEach((value, index) => {\r\n            let segmentWidth = (value / maxTotal) * chartWidth - gap;\r\n    \r\n            // Ensure the last segment fills the remaining width\r\n            if (index === data.length - 1) {\r\n                segmentWidth = chartWidth - cumulativeWidth; // Adjust last segment to fill remaining space\r\n            }\r\n    \r\n            ctx.fillStyle = colors[index];\r\n    \r\n            // Apply border radius to the first and last segments only\r\n            const isFirstSegment = index === 0;\r\n            const isLastSegment = index === data.length - 1;\r\n    \r\n            drawOuterRoundedRect(\r\n                ctx,\r\n                cumulativeWidth, // X position\r\n                yOffset, // Y position\r\n                segmentWidth, // Width\r\n                chartHeight, // Height\r\n                5, // Border radius for outer edges\r\n                isFirstSegment,\r\n                isLastSegment\r\n            );\r\n    \r\n            cumulativeWidth += segmentWidth + gap; // Increment for next bar\r\n        });\r\n    \r\n        // Update the labels below the chart\r\n        updateStackedBarLabels(principalAndInterest, propertyTax, pmi, hoa, labels, colors);\r\n    }\r\n    \r\n    /**\r\n     * Update the labels below the stacked bar chart.\r\n     */\r\n    function updateStackedBarLabels(principalAndInterest, propertyTax, pmi, hoa, labels, colors) {\r\n        const labelsContainer = document.getElementById('chartLabels');\r\n        labelsContainer.innerHTML = ''; // Clear any existing labels\r\n    \r\n        const data = [principalAndInterest, propertyTax, pmi, hoa];\r\n    \r\n        data.forEach((value, index) => {\r\n            const labelItem = document.createElement('div');\r\n            labelItem.classList.add('label-item');\r\n    \r\n            const colorCircle = document.createElement('span');\r\n            colorCircle.classList.add('color-circle');\r\n            colorCircle.style.backgroundColor = colors[index];\r\n    \r\n            const labelName = document.createElement('span');\r\n            labelName.classList.add('label-name');\r\n            labelName.textContent = labels[index];\r\n    \r\n            const labelValue = document.createElement('span');\r\n            labelValue.classList.add('label-value');\r\n            labelValue.textContent = `${formatter.format(value)}`;\r\n    \r\n            labelItem.appendChild(colorCircle);\r\n            labelItem.appendChild(labelName);\r\n            labelItem.appendChild(labelValue);\r\n    \r\n            labelsContainer.appendChild(labelItem);\r\n        });\r\n    }\r\n    \r\n    /**\r\n     * Helper function to draw rounded rectangles only on outer edges.\r\n     */\r\n    function drawOuterRoundedRect(ctx, x, y, width, height, radius, isFirst, isLast) {\r\n        ctx.beginPath();\r\n    \r\n        // Top-left corner\r\n        if (isFirst) {\r\n            ctx.moveTo(x + radius, y);\r\n            ctx.lineTo(x + width, y); // Top edge\r\n        } else {\r\n            ctx.moveTo(x, y);\r\n            ctx.lineTo(x + width, y); // Top edge\r\n        }\r\n    \r\n        // Top-right corner\r\n        if (isLast) {\r\n            ctx.lineTo(x + width, y + radius);\r\n            ctx.quadraticCurveTo(x + width, y, x + width - radius, y);\r\n        } else {\r\n            ctx.lineTo(x + width, y); // Top-right edge (no rounding)\r\n        }\r\n    \r\n        // Bottom-right corner\r\n        if (isLast) {\r\n            ctx.lineTo(x + width - radius, y + height);\r\n            ctx.quadraticCurveTo(x + width, y + height, x + width, y + height - radius);\r\n        } else {\r\n            ctx.lineTo(x + width, y + height); // Bottom-right edge (no rounding)\r\n        }\r\n    \r\n        // Bottom-left corner\r\n        if (isFirst) {\r\n            ctx.lineTo(x + radius, y + height);\r\n            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n            ctx.lineTo(x, y + radius);\r\n            ctx.quadraticCurveTo(x, y, x + radius, y);\r\n        } else {\r\n            ctx.lineTo(x, y + height); // Bottom-left edge (no rounding)\r\n            ctx.lineTo(x, y); // Close the rectangle\r\n        }\r\n    \r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n    \r\n\r\n    function updateLabels(principalAndInterest, propertyTax, pmi, hoa) {\r\n        const periodicPaymentElement = document.getElementById('monthly-payment-value');\r\n        const selectedFrequency = paymentFrequencyInput.value;\r\n    \r\n        let frequencyLabel = \"Month\";\r\n        if (selectedFrequency === \"biweekly\") {\r\n            frequencyLabel = \"Bi-Week\";\r\n        } else if (selectedFrequency === \"weekly\") {\r\n            frequencyLabel = \"Week\";\r\n        } else if (selectedFrequency === \"accelerated-biweekly\") {\r\n            frequencyLabel = \"Accelerated Bi-Week\";\r\n        } else if (selectedFrequency === \"accelerated-weekly\") {\r\n            frequencyLabel = \"Accelerated Week\";\r\n        }\r\n    \r\n        // Calculate total periodic payment\r\n        const totalPeriodicPayment = principalAndInterest + propertyTax + pmi + hoa;\r\n    \r\n        // Update the payment element\r\n        periodicPaymentElement.innerHTML = `\r\n            <span class=\"payment-amount\">$${formatter.format(totalPeriodicPayment)}</span>\r\n            <span class=\"payment-frequency\"> / ${frequencyLabel}</span>\r\n        `;\r\n        \r\n    }\r\n    \r\n    \r\n    \r\n\r\n    function calculateAmortizationSchedule(principal, monthlyInterestRate, monthlyPrincipalAndInterest, numberOfPayments) {\r\n        const balanceData = [];\r\n        const cumulativeInterestData = [];\r\n        const cumulativePrincipalData = [];\r\n        \r\n        let balance = principal;\r\n        let cumulativeInterest = 0;\r\n        let cumulativePrincipal = 0;\r\n\r\n        for (let month = 1; month <= numberOfPayments; month++) {\r\n            const interestPayment = balance * monthlyInterestRate;\r\n            const principalPayment = monthlyPrincipalAndInterest - interestPayment;\r\n            balance -= principalPayment;\r\n\r\n            cumulativeInterest += interestPayment;\r\n            cumulativePrincipal += principalPayment;\r\n\r\n            balanceData.push(balance > 0 ? balance : 0);\r\n            cumulativeInterestData.push(cumulativeInterest);\r\n            cumulativePrincipalData.push(cumulativePrincipal);\r\n        }\r\n\r\n        const totalInterestPaid = cumulativeInterest;\r\n        const totalPrincipalPaid = cumulativePrincipal;\r\n        const totalAmountPaid = monthlyPrincipalAndInterest * numberOfPayments;\r\n\r\n        return { balanceData, cumulativeInterestData, cumulativePrincipalData, totalInterestPaid, totalPrincipalPaid, totalAmountPaid };\r\n    }\r\n\r\n\r\n    function drawAmortizationChart(balanceData, cumulativeInterestData, cumulativePrincipalData, hoverIndex = null) {\r\n        const ctx = amortizationChartCanvas.getContext('2d');\r\n        const dpr = window.devicePixelRatio || 1;\r\n    \r\n        // Adjust height dynamically based on screen width\r\n        let height = window.innerWidth < 500 ? 200 : 300;\r\n    \r\n        amortizationChartCanvas.style.width = '100%';\r\n        amortizationChartCanvas.style.height = `${height}px`;\r\n    \r\n        const width = amortizationChartCanvas.offsetWidth;\r\n        amortizationChartCanvas.width = width * dpr;\r\n        amortizationChartCanvas.height = height * dpr;\r\n    \r\n        if (dpr > 1) {\r\n            ctx.scale(dpr, dpr);\r\n        }\r\n    \r\n        ctx.clearRect(0, 0, width * dpr, height * dpr);\r\n    \r\n        const months = balanceData.length;\r\n        const maxBalance = Math.max(...balanceData);\r\n        const maxCumulative = Math.max(...cumulativeInterestData, ...cumulativePrincipalData);\r\n    \r\n        const yAxisMax = Math.max(maxBalance, maxCumulative);\r\n    \r\n        const intervalMonths = 5 * 12;\r\n        const padding = { top: 30, right: 20, bottom: 30, left: 70 };\r\n    \r\n        const gridColor = '#d0d0d0';\r\n        const labelColor = '#505050';\r\n        const labelFont = '14px Open Sans';\r\n        const currentYear = new Date().getFullYear();\r\n    \r\n        ctx.font = labelFont;\r\n        ctx.textAlign = 'right';\r\n    \r\n        function getY(value) {\r\n            return height - padding.bottom - (value / yAxisMax) * (height - padding.top - padding.bottom);\r\n        }\r\n    \r\n        function getX(index) {\r\n            return padding.left + (index / months) * (width - padding.left - padding.right);\r\n        }\r\n    \r\n        // Draw horizontal grid lines\r\n        ctx.strokeStyle = gridColor;\r\n        ctx.lineWidth = 1;\r\n    \r\n        const yLabelInterval = 100000;\r\n        for (let yValue = yLabelInterval; yValue < yAxisMax; yValue += yLabelInterval) {\r\n            const y = getY(yValue);\r\n            ctx.beginPath();\r\n            ctx.moveTo(padding.left, y);\r\n            ctx.lineTo(width - padding.right, y);\r\n            ctx.stroke();\r\n    \r\n            ctx.fillStyle = labelColor;\r\n            ctx.fillText(`$${(yValue / 1000).toFixed(0)}K`, padding.left - 10, y + 4);\r\n        }\r\n    \r\n        // Draw vertical grid lines\r\n        ctx.textAlign = 'center';\r\n    \r\n        for (let i = intervalMonths; i < months; i += intervalMonths) {\r\n            const x = getX(i);\r\n            ctx.beginPath();\r\n            ctx.moveTo(x, padding.top);\r\n            ctx.lineTo(x, height - padding.bottom);\r\n            ctx.stroke();\r\n    \r\n            const yearLabel = currentYear + (i / 12 / 5) * 5;\r\n            ctx.fillStyle = labelColor;\r\n            ctx.fillText(yearLabel, x, height - 5);\r\n        }\r\n    \r\n        // Draw hover vertical line first (underneath everything else)\r\n        if (hoverIndex !== null) {\r\n            const hoverX = getX(hoverIndex);\r\n    \r\n            ctx.beginPath();\r\n            ctx.moveTo(hoverX, padding.top);\r\n            ctx.lineTo(hoverX, height - padding.bottom);\r\n            ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)'; // Subtle line\r\n            ctx.lineWidth = 1;\r\n            ctx.stroke();\r\n        }\r\n    \r\n        // Draw chart lines\r\n        const drawLine = (data, color, lineWidth) => {\r\n            ctx.beginPath();\r\n            ctx.strokeStyle = color; // Ensure this is fully opaque\r\n            ctx.lineWidth = lineWidth;\r\n            ctx.moveTo(getX(0), getY(data[0]));\r\n            for (let i = 1; i < months; i++) {\r\n                ctx.lineTo(getX(i), getY(data[i]));\r\n            }\r\n            ctx.stroke();\r\n        };\r\n    \r\n        drawLine(balanceData, '#175134', 2); // Balance line\r\n        drawLine(cumulativeInterestData, '#3EB721', 2.5); // Cumulative Interest\r\n        drawLine(cumulativePrincipalData, '#91BBA6', 2.5); // Cumulative Principal\r\n    \r\n        // Draw hover dots on top (above lines and vertical line)\r\n        if (hoverIndex !== null) {\r\n            const hoverX = getX(hoverIndex);\r\n    \r\n            const dotData = [\r\n                { y: getY(balanceData[hoverIndex]), color: '#175134' },\r\n                { y: getY(cumulativeInterestData[hoverIndex]), color: '#3EB721' },\r\n                { y: getY(cumulativePrincipalData[hoverIndex]), color: '#91BBA6' },\r\n            ];\r\n    \r\n            dotData.forEach(({ y, color }) => {\r\n                ctx.beginPath();\r\n                ctx.arc(hoverX, y, 5, 0, 2 * Math.PI);\r\n                ctx.fillStyle = color; // Ensure this is fully opaque\r\n                ctx.fill();\r\n            });\r\n        }\r\n    \r\n        // Draw border around the chart\r\n        ctx.strokeStyle = gridColor;\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeRect(\r\n            padding.left - 3,\r\n            padding.top - 3,\r\n            width - padding.left - padding.right + 6,\r\n            height - padding.top - padding.bottom + 6\r\n        );\r\n    }\r\n\r\n    \r\n    \r\n    amortizationChartCanvas.addEventListener('mousemove', (event) => {\r\n        const rect = amortizationChartCanvas.getBoundingClientRect();\r\n        const x = event.clientX - rect.left;\r\n    \r\n        const padding = { top: 30, right: 20, bottom: 30, left: 70 };\r\n    \r\n        if (x >= padding.left && x <= amortizationChartCanvas.offsetWidth - padding.right) {\r\n            const chartWidth = amortizationChartCanvas.offsetWidth - padding.left - padding.right;\r\n    \r\n            const index = Math.round(\r\n                ((x - padding.left) / chartWidth) * (lastAmortizationData.balanceData.length - 1)\r\n            );\r\n    \r\n            if (index >= 0 && index < lastAmortizationData.balanceData.length) {\r\n                // Update hover labels\r\n                updateHoverValues(\r\n                    lastAmortizationData.balanceData[index],\r\n                    lastAmortizationData.cumulativeInterestData[index],\r\n                    lastAmortizationData.cumulativePrincipalData[index]\r\n                );\r\n    \r\n                // Update hover date\r\n                const startDate = new Date(); // Assume the loan starts from today\r\n                const hoverDate = new Date(startDate.setMonth(startDate.getMonth() + index));\r\n                displayHoverDate(hoverDate);\r\n    \r\n                // Redraw chart with hover effects\r\n                drawAmortizationChart(\r\n                    lastAmortizationData.balanceData,\r\n                    lastAmortizationData.cumulativeInterestData,\r\n                    lastAmortizationData.cumulativePrincipalData,\r\n                    index // Pass hover index for hover effects\r\n                );\r\n            }\r\n        }\r\n    });\r\n    \r\n    // Function to display the hover date\r\n    function displayHoverDate(date) {\r\n        const hoverDateContainer = document.getElementById('amortizationHoverDate');\r\n        const month = date.toLocaleString('default', { month: 'long' }); // Full month name\r\n        const year = date.getFullYear();\r\n        hoverDateContainer.textContent = `${month} ${year}`;\r\n    }\r\n    \r\n\r\n\r\n   \r\n    amortizationChartCanvas.addEventListener('mouseout', () => {\r\n        revertValuesToTotals();\r\n    \r\n        // Clear the hover date\r\n        const hoverDateContainer = document.getElementById('amortizationHoverDate');\r\n        hoverDateContainer.textContent = '';\r\n    \r\n        drawAmortizationChart(\r\n            lastAmortizationData.balanceData,\r\n            lastAmortizationData.cumulativeInterestData,\r\n            lastAmortizationData.cumulativePrincipalData\r\n        );\r\n    });\r\n    \r\n\r\n\r\n    function revertValuesToTotals() {\r\n        const { totalInterestPaid, totalPrincipalPaid, totalAmountPaid } = lastAmortizationData;\r\n        updateHoverValues(totalAmountPaid, totalInterestPaid, totalPrincipalPaid);\r\n    }\r\n    \r\n    function updateAmortizationLabels(totalInterestPaid, totalPrincipalPaid, totalAmountPaid) {\r\n        const labels = [\r\n            { label: 'Total Interest Paid', value: totalInterestPaid, color: '#3EB721' },\r\n            { label: 'Total Principal Paid', value: totalPrincipalPaid, color: '#91BBA6' },\r\n            { label: 'Balance (Total Paid)', value: totalAmountPaid, color: '#175134' }\r\n        ];\r\n        \r\n        amortizationLabelsContainer.innerHTML = ''; // Clear previous labels\r\n        \r\n        labels.forEach(item => {\r\n            const labelElement = document.createElement('div');\r\n            labelElement.classList.add('label-item'); // Use CSS class instead of inline styles\r\n            \r\n            const colorCircle = document.createElement('span');\r\n            colorCircle.classList.add('color-circle');\r\n            colorCircle.style.backgroundColor = item.color;\r\n            \r\n            const labelText = document.createElement('span');\r\n            labelText.classList.add('label-name'); // Apply consistent class\r\n            labelText.textContent = item.label;\r\n            \r\n            const labelValue = document.createElement('span');\r\n            labelValue.classList.add('label-value'); // Apply consistent class\r\n            labelValue.textContent = formatter.format(item.value).replace('$', '');\r\n            \r\n            labelElement.appendChild(colorCircle);\r\n            labelElement.appendChild(labelText);\r\n            labelElement.appendChild(labelValue);\r\n            \r\n            amortizationLabelsContainer.appendChild(labelElement);\r\n        });\r\n    }\r\n    \r\n\r\n    calculateAndDisplayResults();\r\n   \r\n    console.log(\"End of script reached\");    \r\n\r\n});\r\n"],"names":["document","addEventListener","console","log","window","location","hostname","homePriceInput","getElementById","downPaymentAmountInput","downPaymentPercentageInput","loanTermInput","interestRateInput","paymentFrequencyInput","propertyTaxInput","pmiExpenseInput","hoaExpenseInput","updateBtn","resetBtn","canvas","amortizationChartCanvas","labelsContainer","amortizationLabelsContainer","defaultValues","homePrice","downPaymentAmount","downPaymentPercentage","loanTerm","interestRate","propertyTax","pmiExpense","hoaExpense","placeholder","value","formatter","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","inputsToRestrict","forEach","input","event","key","preventDefault","lastAmortizationData","parseFloat","Number","isInteger","toFixed","Math","ceil","calculateAndDisplayResults","resetInputs","tabPaymentBreakdown","tabAmortizationSchedule","paymentBreakdownContent","amortizationScheduleContent","showTab","tabName","style","display","classList","add","remove","_lastAmortizationData","periodicPrincipalAndInterest","periodicPropertyTax","periodicPMI","periodicHOA","updateHorizontalStackedBarChart","_lastAmortizationData2","balanceData","cumulativeInterestData","cumulativePrincipalData","totalInterestPaid","totalPrincipalPaid","totalAmountPaid","drawAmortizationChart","updateAmortizationLabels","parseInt","principal","monthlyInterestRate","numberOfPayments","pow","selectedFrequency","paymentFactor","adjustedPrincipalAndInterest","adjustedPropertyTax","adjustedPMI","adjustedHOA","updateLabels","amortizationData","calculateAmortizationSchedule","totalPayment","updateHoverValues","balance","interest","labelValues","querySelectorAll","length","textContent","format","drawRoundedRect","ctx","x","y","width","height","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","clip","principalAndInterest","pmi","hoa","getContext","parentWidth","parentElement","offsetWidth","clearRect","data","labels","colors","chartHeight","chartWidth","total","reduce","a","b","maxTotal","max","gap","yOffset","cumulativeWidth","index","segmentWidth","fillStyle","isFirstSegment","isLastSegment","drawOuterRoundedRect","updateStackedBarLabels","innerHTML","labelItem","createElement","colorCircle","backgroundColor","labelName","labelValue","concat","appendChild","isFirst","isLast","fill","periodicPaymentElement","frequencyLabel","totalPeriodicPayment","monthlyPrincipalAndInterest","cumulativeInterest","cumulativePrincipal","month","interestPayment","principalPayment","push","hoverIndex","arguments","undefined","dpr","devicePixelRatio","innerWidth","scale","months","maxBalance","apply","_toConsumableArray","maxCumulative","yAxisMax","intervalMonths","padding","top","right","bottom","left","gridColor","labelColor","labelFont","currentYear","Date","getFullYear","font","textAlign","getY","getX","strokeStyle","lineWidth","yLabelInterval","yValue","stroke","fillText","i","yearLabel","hoverX","drawLine","color","dotData","_ref","arc","PI","strokeRect","rect","getBoundingClientRect","clientX","round","startDate","hoverDate","setMonth","getMonth","displayHoverDate","date","hoverDateContainer","toLocaleString","year","revertValuesToTotals","_lastAmortizationData3","label","item","labelElement","labelText","replace"],"sourceRoot":""}